{"ast":null,"code":"import axios from \"axios\";\nimport { parseCookies } from \"nookies\";\nexport function getAPIClient(ctx) {\n  var _parseCookies = parseCookies(ctx),\n      token = _parseCookies['@gok/token'];\n\n  var api = axios.create({\n    baseURL: 'https://comitedev.herokuapp.com'\n  });\n  api.interceptors.request.use(function (config) {\n    console.log(config);\n    return config;\n  });\n\n  if (token) {\n    api.defaults.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n\n  return api;\n}","map":{"version":3,"sources":["/Users/ptk/Desktop/meegu/src/services/axios.ts"],"names":["axios","parseCookies","getAPIClient","ctx","token","api","create","baseURL","interceptors","request","use","config","console","log","defaults","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,SAA7B;AAEA,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAAiC;AACtC,sBAAgCF,YAAY,CAACE,GAAD,CAA5C;AAAA,MAAsBC,KAAtB,iBAAQ,YAAR;;AAEA,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAN,CAAa;AACvBC,IAAAA,OAAO,EAAE;AADc,GAAb,CAAZ;AAIAF,EAAAA,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA6B,UAAAC,MAAM,EAAI;AACrCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEA,WAAOA,MAAP;AACD,GAJD;;AAMA,MAAIP,KAAJ,EAAW;AACTC,IAAAA,GAAG,CAACS,QAAJ,CAAaC,OAAb,CAAqB,eAArB,qBAAkDX,KAAlD;AACD;;AAED,SAAOC,GAAP;AACD","sourcesContent":["import axios from \"axios\";\nimport { parseCookies } from \"nookies\";\n\nexport function getAPIClient(ctx?: any) {\n  const { '@gok/token': token } = parseCookies(ctx)\n\n  const api = axios.create({\n    baseURL: 'https://comitedev.herokuapp.com'\n  })\n\n  api.interceptors.request.use(config => {\n    console.log(config);\n\n    return config;\n  })\n\n  if (token) {\n    api.defaults.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  return api;\n}"]},"metadata":{},"sourceType":"module"}